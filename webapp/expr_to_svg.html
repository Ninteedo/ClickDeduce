<!DOCTYPE html>
<html>
<body>

<h2>Text to SVG Conversion</h2>

<form onsubmit="handleSubmit(event)">
  <input type="text" id="userInput" placeholder="Enter your text here">
  <input type="submit" value="Submit">
</form>
<br>

<div id="container"></div>

<script>
  async function handleSubmit(event) {
    // prevent the form from submitting the old-fashioned way
    event.preventDefault();

    // get the user's input
    let userInput = document.getElementById('userInput').value;

    // send a POST request to the server
    let response = await fetch('/expr-to-tree', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        text: userInput
      })
    });

    // read the response as text
    let svgText = await response.text();

    // the svgText is the SVG string directly without the JSON structure:
    let container = document.getElementById('container');
    container.innerHTML = svgText;
  }
</script>

</body>
</html>
